<!doctype HTML>
<html>
<head>
	<link rel = "stylesheet" type = "text/css" href = "bootstrap.css">
</head>
<body>
	<nav class="navbar navbar-inverse">
		<div class="container-fluid">
		    <div class="navbar-header">
		      <a class="navbar-brand" href="#">nodeJS (the-how-to-guide.)</a>
		    </div>
		    	<div>
		      		<ul class="nav navbar-nav">
		        		<li class="active"><a href="howTo.html">Home</a></li>
					</ul>
				</div>
		</div>
	</nav>
	
	<div class="container">

	      <div class="blog-header">

	        <h1 class="blog-title">Section 3:</h1>
	      </div>

	      <div class="row">

	        <div class="col-sm-8 blog-main">

	          <div class="blog-post">
	            <h2 class="blog-post-title">Events</h2>
				<p><br>You can compare the idea of events to the same concept that's in JavaScript. In Node, you can tell the program to "listen" for particular events, such as <code>requests</code>.</p>
				<p>In Node this can be an extremely flexible and awesome tool. Maybe you want to listen for any type of error that might occur or maybe you want to listen for a very particular event, like listen for the server shutting down.</p>
				<p>Let's say we wanted to listen for errors.</p><p> But how? We could use <a href = "http://nodejs.org/api/events.html">EventEmitter </a>(click the link to jump straight to the NodeJS documentation).</p>
				<p>First we need to include EventEmitter:</p>
				<p><pre><code>var EventEmitter = require('events').EventEmitter;</code></pre></p>
				<p>Next, create a new EventEmitter object:</p>
				<p><pre><code>var errorz = new EventEmitter();</code></pre></p>
				<p>Finally, start listening:</p>
				<p><pre><code>errorz.on('error', function(warning){<br>&nbsp&nbspconsole.log('Error:' + warning);<br>});</code></pre></p>
				<p>Now we have a custom listener that will check for errors as long as the connection is open. </p>
				<p>Now that you know a little about how <code>events</code> work in Node let's make a server connection that will show "I'm So Cool" when connected to.</p>
				<p><pre><code>var http = require('http');<br><br>http.createServer(function(request, response){<br><br>&nbsp&nbspresponse.writeHead(200);<br><br>&nbsp&nbspresponse.write("I'm So Cool");<br><br>&nbsp&nbspresponse.end();<br>}).listen(8080);<br><br>console.log("Listening for a connection...");</code></pre></p>
				<p>Make sure to check out <a href = "http://nodejs.org/api/http.html#http_http">http</a> in the Node documentation.</p>
				<p>How does this work? Well let's say we saved the previous code as "SoCool.js". In command line type <code>node SoCool.js</code>. It should display "Listening for a connection...". Then type <code>curl http://localhost:8080</code>. It should output "I'm So Cool". Because you are.</p>
				<p>And because that last line sent a request to the local port 8080. The server was created and listening for a connection and once you typed in the second portion, the connection was made and the output desired was printed to the screen. Then the server closed it's connection with you.</p>
				<p>There you go. Another way to listen to events.</p>
	          </div><!-- /.blog-post -->
				<ul class = "pager"><li> <a href = "section2.html">Previous</a></li><li> <a href = "section4.html">Next</a></li></ul>
	        </div><!-- /.blog-main -->

	        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
	          
	          <div class="sidebar-module">
	            <h4>Jump to Section</h4>
	            <ol class="list-unstyled">
	              <li><a href="section1.html">Section 1: Setting Up node.JS</a></li>
	              <li><a href="section2.html">Section 2: Non-blocking code</a></li>
	              <li><a href="section3.html">Section 3: Events</a></li>
	              <li><a href="section4.html">Section 4: Streams</a></li>
	            </ol>
	          </div>
	          
	        </div><!-- /.blog-sidebar -->

	      </div><!-- /.row -->

	    </div><!-- /.container -->
		
</body>
</html>